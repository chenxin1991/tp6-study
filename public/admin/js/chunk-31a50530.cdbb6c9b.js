(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-31a50530"],{"446a":function(e,t,a){"use strict";var r=a("8b20"),n=a.n(r);n.a},"88bc":function(e,t,a){(function(t){var a=1/0,r=9007199254740991,n="[object Arguments]",i="[object Function]",s="[object GeneratorFunction]",o="[object Symbol]",l="object"==typeof t&&t&&t.Object===Object&&t,c="object"==typeof self&&self&&self.Object===Object&&self,u=l||c||Function("return this")();function d(e,t,a){switch(a.length){case 0:return e.call(t);case 1:return e.call(t,a[0]);case 2:return e.call(t,a[0],a[1]);case 3:return e.call(t,a[0],a[1],a[2])}return e.apply(t,a)}function m(e,t){var a=-1,r=e?e.length:0,n=Array(r);while(++a<r)n[a]=t(e[a],a,e);return n}function f(e,t){var a=-1,r=t.length,n=e.length;while(++a<r)e[n+a]=t[a];return e}var p=Object.prototype,h=p.hasOwnProperty,b=p.toString,g=u.Symbol,v=p.propertyIsEnumerable,y=g?g.isConcatSpreadable:void 0,w=Math.max;function x(e,t,a,r,n){var i=-1,s=e.length;a||(a=C),n||(n=[]);while(++i<s){var o=e[i];t>0&&a(o)?t>1?x(o,t-1,a,r,n):f(n,o):r||(n[n.length]=o)}return n}function _(e,t){return e=Object(e),k(e,t,(function(t,a){return a in e}))}function k(e,t,a){var r=-1,n=t.length,i={};while(++r<n){var s=t[r],o=e[s];a(o,s)&&(i[s]=o)}return i}function q(e,t){return t=w(void 0===t?e.length-1:t,0),function(){var a=arguments,r=-1,n=w(a.length-t,0),i=Array(n);while(++r<n)i[r]=a[t+r];r=-1;var s=Array(t+1);while(++r<t)s[r]=a[r];return s[t]=i,d(e,this,s)}}function C(e){return $(e)||S(e)||!!(y&&e&&e[y])}function j(e){if("string"==typeof e||P(e))return e;var t=e+"";return"0"==t&&1/e==-a?"-0":t}function S(e){return I(e)&&h.call(e,"callee")&&(!v.call(e,"callee")||b.call(e)==n)}var $=Array.isArray;function O(e){return null!=e&&N(e.length)&&!F(e)}function I(e){return L(e)&&O(e)}function F(e){var t=A(e)?b.call(e):"";return t==i||t==s}function N(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=r}function A(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}function L(e){return!!e&&"object"==typeof e}function P(e){return"symbol"==typeof e||L(e)&&b.call(e)==o}var E=q((function(e,t){return null==e?{}:_(e,m(x(t,1),j))}));e.exports=E}).call(this,a("c8ba"))},"8b20":function(e,t,a){},ad94:function(e,t,a){"use strict";a.r(t);var r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("a-card",{attrs:{bordered:!1}},[a("div",{staticClass:"table-page-search-wrapper"},[a("a-form",{attrs:{layout:"inline"}},[a("a-row",{attrs:{gutter:48}},[a("a-col",{attrs:{md:6,sm:24}},[a("a-form-item",{attrs:{label:"车型"}},[a("a-input",{nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.$refs.table.refresh(!0)}},model:{value:e.queryParam.name,callback:function(t){e.$set(e.queryParam,"name",t)},expression:"queryParam.name"}})],1)],1),a("a-col",{attrs:{md:6,sm:24}},[a("span",{staticClass:"table-page-search-submitButtons"},[a("a-button",{attrs:{type:"primary"},on:{click:function(t){return e.$refs.table.refresh(!0)}}},[e._v("查询")]),a("a-button",{staticStyle:{"margin-left":"8px"},on:{click:function(){return e.queryParam={}}}},[e._v("重置")])],1)])],1)],1)],1),a("div",{staticClass:"table-operator"},[a("a-button",{attrs:{type:"primary",icon:"plus"},on:{click:function(t){return e.handleAdd()}}},[e._v("新建")])],1),a("s-table",{ref:"table",attrs:{size:"default",rowKey:"id",columns:e.columns,data:e.loadData,bordered:""},scopedSlots:e._u([{key:"action",fn:function(t,r){return a("span",{},[[a("a",{on:{click:function(t){return e.handleEdit(r)}}},[e._v("编辑")]),a("a-divider",{attrs:{type:"vertical"}}),a("a",{on:{click:function(t){return e.handleDelete(r)}}},[e._v("删除")])]],2)}}])}),a("car-form",{ref:"carForm",on:{ok:e.handleOk}})],1)},n=[],i=(a("b0c0"),a("2af9")),s=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("a-modal",{staticStyle:{top:"40px"},attrs:{title:e.config.title,width:720,visible:e.visible,confirmLoading:e.confirmLoading},on:{ok:e.handleSubmit,cancel:e.handleCancel}},[a("a-spin",{attrs:{spinning:e.confirmLoading}},[a("a-form",{attrs:{form:e.form,"label-col":e.labelCol,"wrapper-col":e.wrapperCol}},[a("a-form-item",{attrs:{labelCol:{xs:{span:24},sm:{span:5}},wrapperCol:{xs:{span:24},sm:{span:16}},label:"名称"}},[a("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["name",{rules:[{required:!0,message:"请输入名称！"}]}],expression:"['name', { rules: [{ required: true, message: '请输入名称！' }] }]"}]})],1),a("a-form-item",{attrs:{labelCol:{xs:{span:24},sm:{span:5}},wrapperCol:{xs:{span:24},sm:{span:16}},label:"单价（元）"}},[a("a-input-number",{directives:[{name:"decorator",rawName:"v-decorator",value:["price",{rules:[{required:!0,message:"请输入单价！"}]}],expression:"[\n            'price',\n            {\n              rules: [{ required: true, message: '请输入单价！' }],\n            },\n          ]"}],staticStyle:{width:"100%"},attrs:{min:0}})],1),a("a-form-item",{attrs:{labelCol:{xs:{span:24},sm:{span:5}},wrapperCol:{xs:{span:24},sm:{span:16}},label:"上传图片"}},[a("a-upload",{staticClass:"avatar-uploader",attrs:{name:"avatar","list-type":"picture-card","show-upload-list":!1,action:"/admin/test/avatar","before-upload":e.beforeUpload},on:{change:e.handleChange}},[e.image_url?a("img",{staticStyle:{"max-width":"202px","max-height":"202px"},attrs:{src:e.image_url,alt:"avatar"}}):a("div",[a("a-icon",{attrs:{type:e.loading?"loading":"plus"}}),a("div",{staticClass:"ant-upload-text"},[e._v(" Upload ")])],1)])],1),a("a-divider",{attrs:{orientation:"left"}},[e._v(" 超出公里数收费标准 ")]),a("a-row",{attrs:{gutter:16}},[a("a-col",{attrs:{span:12}},[a("a-form-item",{attrs:{label:"超出多少公里开始计费"}},[a("a-input-number",{directives:[{name:"decorator",rawName:"v-decorator",value:["km_standard",{rules:[{required:!0,message:"请输入超出多少公里开始计费！"}]}],expression:"[\n                'km_standard',\n                {\n                  rules: [{ required: true, message: '请输入超出多少公里开始计费！' }],\n                },\n              ]"}],staticStyle:{width:"100%"},attrs:{min:0}})],1)],1),a("a-col",{attrs:{span:12}},[a("a-form-item",{attrs:{label:"超出公里数单价（元）"}},[a("a-input-number",{directives:[{name:"decorator",rawName:"v-decorator",value:["km_price",{rules:[{required:!0,message:"请输入超出公里数单价（元）！"}]}],expression:"[\n                'km_price',\n                {\n                  rules: [{ required: true, message: '请输入超出公里数单价（元）！' }],\n                },\n              ]"}],staticStyle:{width:"100%"},attrs:{min:0}})],1)],1)],1),a("a-divider",{attrs:{orientation:"left"}},[e._v(" 搬入搬出（楼梯）收费标准 ")]),a("a-row",{attrs:{gutter:16}},[a("a-col",{attrs:{span:12}},[a("a-form-item",{attrs:{label:"多少楼层开始计费"}},[a("a-input-number",{directives:[{name:"decorator",rawName:"v-decorator",value:["floor_standard",{rules:[{required:!0,message:"请输入多少楼层开始计费！"}]}],expression:"[\n                'floor_standard',\n                {\n                  rules: [{ required: true, message: '请输入多少楼层开始计费！' }],\n                },\n              ]"}],staticStyle:{width:"100%"},attrs:{min:0}})],1)],1),a("a-col",{attrs:{span:12}},[a("a-form-item",{attrs:{label:"单价（元）（每楼层每车）"}},[a("a-input-number",{directives:[{name:"decorator",rawName:"v-decorator",value:["floor_price",{rules:[{required:!0,message:"请输入单价（元）（每楼层每车）！"}]}],expression:"[\n                'floor_price',\n                {\n                  rules: [{ required: true, message: '请输入单价（元）（每楼层每车）！' }],\n                },\n              ]"}],staticStyle:{width:"100%"},attrs:{min:0}})],1)],1)],1),a("a-divider",{attrs:{orientation:"left"}},[e._v(" 停车位距离收费标准（元）（每车） ")]),a("a-row",{attrs:{gutter:16}},[a("a-col",{attrs:{span:12}},[a("a-form-item",{attrs:{label:"低于30米"}},[a("a-input-number",{directives:[{name:"decorator",rawName:"v-decorator",value:["distance1",{rules:[{required:!0,message:"请输入低于30米！"}]}],expression:"[\n                'distance1',\n                {\n                  rules: [{ required: true, message: '请输入低于30米！' }],\n                },\n              ]"}],staticStyle:{width:"100%"},attrs:{min:0}})],1)],1),a("a-col",{attrs:{span:12}},[a("a-form-item",{attrs:{label:"30-50米"}},[a("a-input-number",{directives:[{name:"decorator",rawName:"v-decorator",value:["distance2",{rules:[{required:!0,message:"请输入30-50米！"}]}],expression:"[\n                'distance2',\n                {\n                  rules: [{ required: true, message: '请输入30-50米！' }],\n                },\n              ]"}],staticStyle:{width:"100%"},attrs:{min:0}})],1)],1)],1),a("a-row",{attrs:{gutter:16}},[a("a-col",{attrs:{span:12}},[a("a-form-item",{attrs:{label:"50-100米"}},[a("a-input-number",{directives:[{name:"decorator",rawName:"v-decorator",value:["distance3",{rules:[{required:!0,message:"请输入50-100米！"}]}],expression:"[\n                'distance3',\n                {\n                  rules: [{ required: true, message: '请输入50-100米！' }],\n                },\n              ]"}],staticStyle:{width:"100%"},attrs:{min:0}})],1)],1),a("a-col",{attrs:{span:12}},[a("a-form-item",{attrs:{label:"100米以上或地下室出入"}},[a("a-input-number",{directives:[{name:"decorator",rawName:"v-decorator",value:["distance4",{rules:[{required:!0,message:"请输入100米以上或地下室出入！"}]}],expression:"[\n                'distance4',\n                {\n                  rules: [{ required: true, message: '请输入100米以上或地下室出入！' }],\n                },\n              ]"}],staticStyle:{width:"100%"},attrs:{min:0}})],1)],1)],1)],1)],1)],1)},o=[],l=a("88bc"),c=a.n(l),u=a("b775"),d={car:"/car"};function m(e){return Object(u["b"])({url:d.car,method:"post",data:e})}function f(e){return Object(u["b"])({url:d.car+"/"+e.id,method:"put",data:e})}function p(e){return Object(u["b"])({url:d.car+"/"+e.id,method:"delete",data:e})}function h(e){return Object(u["b"])({url:d.car,method:"get",params:e})}var b={data:function(){return{labelCol:{xs:{span:24},sm:{span:16}},wrapperCol:{xs:{span:24},sm:{span:8}},visible:!1,confirmLoading:!1,config:{},form:this.$form.createForm(this),loading:!1,image_url:""}},methods:{add:function(){var e=this;this.config.action="add",this.config.title="新增车型",this.visible=!0,this.$nextTick((function(){e.form.resetFields(),e.image_url=""}))},edit:function(e){var t=this;this.config.action="edit",this.config.title="编辑车型",this.config.id=e.id,this.visible=!0,this.image_url=e.image_url,this.$nextTick((function(){t.form.setFieldsValue(c()(e,["name","price","km_standard","km_price","floor_standard","floor_price","distance1","distance2","distance3","distance4"]))}))},handleChange:function(e){"done"===e.file.status&&"done"===e.file.response.status&&(this.image_url=e.file.response.url)},beforeUpload:function(e){var t="image/jpeg"===e.type||"image/png"===e.type;t||this.$message.error("You can only upload JPG file!");var a=e.size/1024/1024<2;return a||this.$message.error("Image must smaller than 2MB!"),t&&a},handleSubmit:function(){var e=this,t=this.form.validateFields;this.confirmLoading=!0;var a=this.$message;t((function(t,r){r.image_url=e.image_url,t?e.confirmLoading=!1:"add"===e.config.action?m(r).then((function(t){a.success("添加成功"),e.visible=!1,e.confirmLoading=!1,e.$emit("ok",r)})).catch((function(e){a.error("load user err: ".concat(e.message))})):"edit"===e.config.action&&(r.id=e.config.id,f(r).then((function(t){a.success("修改成功"),e.visible=!1,e.confirmLoading=!1,e.$emit("ok",r)})).catch((function(e){a.error("load user err: ".concat(e.message))})))}))},handleCancel:function(){this.visible=!1}}},g=b,v=(a("446a"),a("2877")),y=Object(v["a"])(g,s,o,!1,null,"88047ff6",null),w=y.exports,x={name:"BasicCar",components:{STable:i["r"],CarForm:w},data:function(){var e=this;return{queryParam:{},columns:[{title:"车型",dataIndex:"name"},{title:"单价（元）",dataIndex:"price"},{title:"超过多少公里计费",dataIndex:"km_standard"},{title:"超出公里数单价（元）",dataIndex:"km_price"},{title:"搬入搬出（楼梯）收费标准",children:[{title:"多少楼层开始计费",dataIndex:"floor_standard"},{title:"单价（元）（每楼层每车）",dataIndex:"floor_price"}]},{title:"停车位距离收费标准（元）（每车）",children:[{title:"低于30米",dataIndex:"distance1"},{title:"30-50米",dataIndex:"distance2"},{title:"50-100米",dataIndex:"distance3"},{title:"100米以上或地下室出入",dataIndex:"distance4"}]},{title:"操作",dataIndex:"action",width:"150px",scopedSlots:{customRender:"action"}}],roles:[],loadData:function(t){return h(Object.assign(t,e.queryParam)).then((function(e){return e.result}))}}},methods:{handleAdd:function(){this.$refs.carForm.add()},handleEdit:function(e){this.$refs.carForm.edit(e)},handleOk:function(){this.$refs.table.refresh()},handleDelete:function(e){var t=this;this.$confirm({title:"警告",content:"真的要删除 ".concat(e.name," 吗?"),okText:"删除",okType:"danger",cancelText:"取消",onOk:function(){p(e).then((function(e){t.$message.success("删除成功"),t.$refs.table.refresh()})).catch((function(e){t.$message.error("load user err: ".concat(e.message))}))}})}}},_=x,k=Object(v["a"])(_,r,n,!1,null,null,null);t["default"]=k.exports}}]);